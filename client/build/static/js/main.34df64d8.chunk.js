(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{224:function(e,t,a){},299:function(e,t,a){e.exports=a(378)},378:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(11),l=a.n(c),i=a(98),s=a.n(i),o=a(212),d=a(227),u=a(216),m=a(217),p=a(388),h=a(214),f=a(389),E=a(213),g=a.n(E),v=a(228),b=function(e){return r.a.createElement("input",{type:"search",className:"search",placeholder:e.placeholder,onChange:e.handleChange})},w=(a(224),a(225),a(236)),k=a(252),y=a(276),j=a(208),C=a(253),N=a(249),O=a(277),S=a(201),A=a(392),D=a.n(A),_=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",testeeName:"",testName:"",attempts:0,score:0,sten:0,percentile:0,date_taken:"",candidates:[],loading:!0,searchField:"",testeeRecords:[],fileName:""},a.useStyles=Object(w.a)({table:{minWidth:650}}),a.classes=Object(w.a)({table:{minWidth:650}}),a.handleChange=function(e){var t=e.target,n=t.value,r=t.name;return a.setState(Object(d.a)({},r,n))},a.createAndDownloadPdf=function(){g.a.post("/create-pdf",a.state.testeeRecords).then(function(){return g.a.get("fetch-pdf",{responseType:"blob"})}).then(function(e){var t=new Blob([e.data],{type:"application/pdf"});Object(v.saveAs)(t,"fileName.pdf")})},a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(o.a)(s.a.mark(function e(){var t,a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"https://final-server-reportgen.herokuapp.com/items",e.next=3,fetch("https://final-server-reportgen.herokuapp.com/items");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,this.setState({candidates:a,loading:!1});case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"clickMe",value:function(){var e=Object(o.a)(s.a.mark(function e(t){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=[],[],this.state.candidates.forEach(function(e){e.candidate_id===t.candidate_id&&a.push(e)}),this.setState({testeeRecords:a},function(){this.createAndDownloadPdf()});case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;if(this.state.loading)return r.a.createElement("div",null,"loading....");if(!this.state.candidates.length)return r.a.createElement("div",null,"Didn't get a candidate");var t=this.state,a=t.candidates,n=t.searchField,c=a.filter(function(e){return e.testeeName.toLowerCase().includes(n.toLocaleLowerCase())});return this.candidates={filteredCandidates:c},r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"Candidate list"),r.a.createElement(S.a,null,r.a.createElement(b,{placeholder:"Enter a candidate name...",handleChange:function(t){return e.setState({searchField:t.target.value})}}),r.a.createElement(C.a,null,r.a.createElement(k.a,null,r.a.createElement(N.a,null,r.a.createElement(O.a,null,r.a.createElement(j.a,{align:"center"},"Candidate ID"),r.a.createElement(j.a,{align:"center"},"Testee Name"),r.a.createElement(j.a,{align:"center"},"Test Name"),r.a.createElement(j.a,{align:"center"},"Attempts"),r.a.createElement(j.a,{align:"center"},"Score"),r.a.createElement(j.a,{align:"center"},"Percentile   "),r.a.createElement(j.a,{align:"center"},"Sten"),r.a.createElement(j.a,{align:"center"},"Date Taken"))),r.a.createElement(y.a,null,this.state.candidates.map(function(t){return r.a.createElement(O.a,{key:t.candidate_id},r.a.createElement(j.a,{align:"center",component:"th",scope:"row"},t.candidate_id," "),r.a.createElement(j.a,{align:"center"},t.testeeName),r.a.createElement(j.a,{align:"center"},t.testName),r.a.createElement(j.a,{align:"center"},t.attempts),r.a.createElement(j.a,{align:"center"},t.score),r.a.createElement(j.a,{align:"center"},t.percentile),r.a.createElement(j.a,{align:"center"},t.sten),r.a.createElement(j.a,{align:"center"},t.date_taken),r.a.createElement(D.a,{onClick:e.clickMe.bind(e,t)}))}))))))}}]),t}(n.Component);l.a.render(r.a.createElement(_,null),document.getElementById("root"))}},[[299,5,1]]]);
//# sourceMappingURL=main.34df64d8.chunk.js.map